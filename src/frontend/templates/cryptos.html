<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/src/frontend/static/css/index.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/monzanifabio/cryptofont/cryptofont.css">
    <!DOCTYPE html>
    <title>CryptoControl</title>
    <html>

    <head>

    </head>

<body>
    <div id="particles-js"></div>
    <div class="contenedor">
        <div class="nav-contenedor">
            <nav class="menu" id="right-buttons">
                <input type="checkbox" href="#" class="menu-open" name="menu-open" id="menu-open" checked />
                <label class="menu-open-button" for="menu-open">
                    <span class="hamburger hamburger-1"></span>
                    <span class="hamburger hamburger-2"></span>
                    <span class="hamburger hamburger-3"></span>
                </label>

                <a class="menu-item" href="home.html"><button class="button-nav-avatar"><svg
                            xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                            <g fill="none" stroke="white" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2">
                                <path stroke-dasharray="21" stroke-dashoffset="21" d="M5 21H19">
                                    <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.2s" values="21;0" />
                                </path>
                                <path stroke-dasharray="15" stroke-dashoffset="15" d="M5 21V8M19 21V8">
                                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.2s" dur="0.2s"
                                        values="15;0" />
                                </path>
                                <path stroke-dasharray="24" stroke-dashoffset="24" d="M9 21V13H15V21">
                                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s"
                                        values="24;0" />
                                </path>
                                <path stroke-dasharray="26" stroke-dashoffset="26" d="M2 10L12 2L22 10">
                                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.5s" dur="0.4s"
                                        values="26;0" />
                                </path>
                            </g>
                        </svg></button></a>
                        <a class="menu-item" href="home.html"><button class="button-nav-crypto"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 32 32"><path fill="white" d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16S7.163 0 16 0zm3.352 5.56c-.244-.12-.488 0-.548.243c-.061.061-.061.122-.061.243v.85l.01.104a.86.86 0 0 0 .355.503c4.754 1.7 7.192 6.98 5.424 11.653c-.914 2.55-2.925 4.491-5.424 5.402c-.244.121-.365.303-.365.607v.85l.005.088a.45.45 0 0 0 .36.397c.061 0 .183 0 .244-.06a10.895 10.895 0 0 0 7.13-13.717c-1.096-3.46-3.778-6.07-7.13-7.162zm-6.46-.06c-.061 0-.183 0-.244.06a10.895 10.895 0 0 0-7.13 13.717c1.096 3.4 3.717 6.01 7.13 7.102c.244.121.488 0 .548-.243c.061-.06.061-.122.061-.243v-.85l-.01-.08c-.042-.169-.199-.362-.355-.466c-4.754-1.7-7.192-6.98-5.424-11.653c.914-2.55 2.925-4.491 5.424-5.402c.244-.121.365-.303.365-.607v-.85l-.005-.088a.45.45 0 0 0-.36-.397zm3.535 3.156h-.915l-.088.008c-.2.04-.346.212-.4.478v1.396l-.207.032c-1.708.304-2.778 1.483-2.778 2.942c0 2.002 1.218 2.791 3.778 3.095c1.707.303 2.255.668 2.255 1.639c0 .97-.853 1.638-2.011 1.638c-1.585 0-2.133-.667-2.316-1.578c-.06-.242-.244-.364-.427-.364h-1.036l-.079.007a.413.413 0 0 0-.347.418v.06l.033.18c.29 1.424 1.266 2.443 3.197 2.734v1.457l.008.088c.04.198.213.344.48.397h.914l.088-.008c.2-.04.346-.212.4-.477V21.34l.207-.04c1.713-.362 2.84-1.601 2.84-3.177c0-2.124-1.28-2.852-3.84-3.156c-1.829-.243-2.194-.728-2.194-1.578c0-.85.61-1.396 1.828-1.396c1.097 0 1.707.364 2.011 1.275a.458.458 0 0 0 .427.303h.975l.079-.006a.413.413 0 0 0 .348-.419v-.06l-.037-.173a3.04 3.04 0 0 0-2.706-2.316V9.142l-.008-.088c-.04-.199-.213-.345-.48-.398z"/></svg></button></a>

            </nav>
        </div>
        <section class="layout">
            <div class="main">
                <div class="container-gif">
                    <div>
                        <h1>Crypto</h1>
                    </div>
                    <img class=GIF src="/src/frontend/bitcoin-05.gif">
                    <div>
                        <h1>Control</h1>
                    </div>
                </div>




            </div>

    </div>
    <div class="footer">2</div>
    </section>
    </div>

    <script>


        function redirectToCryptoDetail(symbol) {
            return `http://127.0.0.1:8000/crypto-detail/${symbol}`;
        }


        const usuario = JSON.parse(sessionStorage.getItem('usuario'))
        const nav_pr = document.getElementById("right-buttons");
        console.log(usuario);

        function LogOut() {
            sessionStorage.clear();
            window.location.href = 'login.html';
        }
        if (usuario) {
            fetch('http://127.0.0.1:8000/userdb/token', {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${usuario.access_token}`
                }
            })
                .then((response) => response.json())
                .then((data) => {


                    const button_out = document.createElement("a");
                    button_out.classList.add("menu-item");
                    button_out.href = "login.html";
                    const button_o = document.createElement("button");
                    button_o.classList.add("button-nav");
                    button_o.addEventListener('click', LogOut);
                    const svg_button = document.createElement("img");
                    svg_button.src = "/src/frontend/logOut.svg";
                    button_o.appendChild(svg_button);
                    button_out.appendChild(button_o);

                    const button_avatar = document.createElement("a");
                    button_avatar.classList.add("menu-item");
                    button_avatar.href = "profile.html";
                    const button_a = document.createElement("button");
                    button_a.classList.add("button-nav-avatar")
                    const img = document.createElement("img");
                    img.classList.add("avatar");
                    img.src = "/src/frontend/avatar_icon.svg";
                    button_a.appendChild(img);
                    button_avatar.appendChild(button_a);

                    nav_pr.appendChild(button_out);
                    nav_pr.appendChild(button_avatar);
                    console.log("True");
                })
                .catch((error) => {
                    console.log(error);

                });

        }
    </script>

    <script src="/src/frontend/static/js/particles.min.js"></script>
    <script src="/src/frontend/static/js/app.js"></script>
</body>

</html>